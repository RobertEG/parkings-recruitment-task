{"version":3,"sources":["parkingi.js","selectors/getFilteredParkings.js","components/ParkingsFilter.js","actions/index.js","components/ParkingItemInfo.js","components/ParkingsList.js","components/ParkingsMap.js","components/App.js","reducers/index.js","reducers/parkings.js","reducers/parkingsSearch.js","reducers/fetchSelected.js","reducers/fetchOnMouseOver.js","index.js"],"names":["getFilteredParkings","parkings","text","parkingsSearch","toLowerCase","filter","parking","properties","street","includes","ParkingsFilter","handleSearchChange","e","props","searchParkings","currentTarget","value","className","style","margin","type","placeholder","this","onChange","React","Component","mapDispatchToProps","ParkingsFilterContainer","connect","state","ParkingItemInfo","spots","hSpots","paid","checkPaid","val","ParkingsList","parkingToParkingItem","handicappedSpots","key","geometry","coordinates","maxWidth","onClick","fetchSelected","onMouseOver","fetchOnMouseOver","onMouseOut","editClicked","clickedParkingID","ref","defaultValue","min","paidSelectionChanged","name","id","defaultChecked","paidSelected","htmlFor","handleClickSave","removeParking","handleClickEdit","currentVal","bind","changeEvent","setState","target","paidValue","editParking","refs","numParkings","handicappedSpotsAmount","map","payload","spotsAmount","removeParkings","gdanskWebMercator","fromLonLat","ParkingsMap","center","zoom","checkObjectFromMap","onClickNewLayer","onMouseOverNewLayer","polygon","object","on","event","intersectsCoordinate","coordinate","getOverlayById","getElement","display","document","getElementById","innerHTML","setPosition","undefined","onClickItem","removeLayer","onClickVectorLayer","newPolygon","Polygon","transform","feature","Feature","vectorSource","VectorSource","addFeature","VectorLayer","source","newCenterView","getView","setCenter","setZoom","addLayer","onMouseOverItem","onMouseOverVectorLayer","overlay","Overlay","element","autoPan","autoPanAnimation","duration","Map","overlays","layers","TileLayer","OSM","view","View","prevProps","App","parkingsFetched","parkingi","AppContainer","combineReducers","action","ReactDOM","render","store","createStore","reducers","querySelector"],"mappings":"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","file":"static/js/main.03fe38b9.chunk.js","sourcesContent":["export default {\r\n  \"type\": \"FeatureCollection\",\r\n  \"features\": [\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Kilińskiego\",\r\n        \"spots\": 30,\r\n        \"handicappedSpots\": 5,\r\n        \"paid\": false\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.607124984264374,\r\n              54.383119158030894\r\n            ],\r\n            [\r\n              18.60694795846939,\r\n              54.3830972897736\r\n            ],\r\n            [\r\n              18.607023060321808,\r\n              54.38280675324947\r\n            ],\r\n            [\r\n              18.60720008611679,\r\n              54.38282237354499\r\n            ],\r\n            [\r\n              18.607124984264374,\r\n              54.383119158030894\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Kilińskiego\",\r\n        \"spots\": 10,\r\n        \"handicappedSpots\": 2,\r\n        \"paid\": false\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.60696941614151,\r\n              54.38381425013866\r\n            ],\r\n            [\r\n              18.607036471366882,\r\n              54.38382362208665\r\n            ],\r\n            [\r\n              18.607028424739838,\r\n              54.38385954786748\r\n            ],\r\n            [\r\n              18.607057929038998,\r\n              54.383942333242686\r\n            ],\r\n            [\r\n              18.606937229633328,\r\n              54.38393296132179\r\n            ],\r\n            [\r\n              18.60696941614151,\r\n              54.38381425013866\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Lelewela\",\r\n        \"spots\": 10,\r\n        \"handicappedSpots\": 0,\r\n        \"paid\": false\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.606451749801636,\r\n              54.38389703560523\r\n            ],\r\n            [\r\n              18.606915771961212,\r\n              54.383937647282494\r\n            ],\r\n            [\r\n              18.606915771961212,\r\n              54.38397513494889\r\n            ],\r\n            [\r\n              18.60644906759262,\r\n              54.38393296132179\r\n            ],\r\n            [\r\n              18.606451749801636,\r\n              54.38389703560523\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Grażyny\",\r\n        \"spots\": 50,\r\n        \"handicappedSpots\": 8,\r\n        \"paid\": true\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.609997630119324,\r\n              54.382350637998535\r\n            ],\r\n            [\r\n              18.609740138053894,\r\n              54.382310024751\r\n            ],\r\n            [\r\n              18.60982060432434,\r\n              54.38205384795578\r\n            ],\r\n            [\r\n              18.6100834608078,\r\n              54.38207884088423\r\n            ],\r\n            [\r\n              18.609997630119324,\r\n              54.382350637998535\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Gołębia\",\r\n        \"spots\": 40,\r\n        \"handicappedSpots\": 8,\r\n        \"paid\": true\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.606363236904144,\r\n              54.38519346546863\r\n            ],\r\n            [\r\n              18.606390058994293,\r\n              54.38509818707769\r\n            ],\r\n            [\r\n              18.607280552387238,\r\n              54.38521845648537\r\n            ],\r\n            [\r\n              18.60724300146103,\r\n              54.385298115249675\r\n            ],\r\n            [\r\n              18.606363236904144,\r\n              54.38519346546863\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Gołębia\",\r\n        \"spots\": 40,\r\n        \"handicappedSpots\": 8,\r\n        \"paid\": true\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.60735297203064,\r\n              54.385316858465885\r\n            ],\r\n            [\r\n              18.607390522956848,\r\n              54.38523563780056\r\n            ],\r\n            [\r\n              18.608112037181854,\r\n              54.38536371646891\r\n            ],\r\n            [\r\n              18.608069121837616,\r\n              54.38545743231448\r\n            ],\r\n            [\r\n              18.60735297203064,\r\n              54.385316858465885\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"street\": \"Lelewela\",\r\n        \"spots\": 60,\r\n        \"handicappedSpots\": 10,\r\n        \"paid\": false\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              18.609088361263275,\r\n              54.384851399397334\r\n            ],\r\n            [\r\n              18.60899716615677,\r\n              54.384842027684044\r\n            ],\r\n            [\r\n              18.60884428024292,\r\n              54.38427972096933\r\n            ],\r\n            [\r\n              18.608836233615875,\r\n              54.38416725870193\r\n            ],\r\n            [\r\n              18.608940839767456,\r\n              54.384170382657956\r\n            ],\r\n            [\r\n              18.60893279314041,\r\n              54.38419225034353\r\n            ],\r\n            [\r\n              18.609088361263275,\r\n              54.384851399397334\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}","export const getFilteredParkings = (parkings, text) => {\r\n    const parkingsSearch = text.toLowerCase();\r\n\r\n    return parkings.filter(parking => {\r\n        const { street } = parking.properties;\r\n        return (\r\n            street.toLowerCase().includes(parkingsSearch)\r\n        );\r\n    });\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { searchParkings } from \"../actions\";\r\n\r\nclass ParkingsFilter extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"ui large icon input\" style={{margin: \"10px 0px 0px 10px\"}}>\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Szukaj parkingu\"\r\n                    value={this.props.parkingsSearch}\r\n                    onChange={this.handleSearchChange}\r\n                />\r\n                <i className=\"search icon\"></i>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handleSearchChange = e => {\r\n        this.props.searchParkings(e.currentTarget.value);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        parkingsSearch: state.parkingsSearch\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { searchParkings }\r\n\r\nexport const ParkingsFilterContainer = connect(mapStateToProps, mapDispatchToProps)(ParkingsFilter);","export const parkingsFetched = parkings => ({\r\n    type: 'FETCH_PARKINGS',\r\n    parkings\r\n});\r\n\r\nexport const fetchSelected = parking => ({\r\n    type: 'FETCH_SELECTED',\r\n    payload: parking\r\n});\r\n\r\nexport const fetchOnMouseOver = parking => ({\r\n    type: 'FETCH_ON_MOUSE_OVER',\r\n    payload: parking\r\n});\r\n\r\nexport const searchParkings = text => ({\r\n    type: 'SEARCH_PARKINGS',\r\n    text\r\n});\r\n\r\nexport const removeParking = parking => ({\r\n    type: 'REMOVE_PARKING',\r\n    payload: parking\r\n});\r\n\r\nexport const editParking = (parking, spotsAmount, handicappedSpotsAmount, paidSelected) => ({\r\n    type: 'EDIT_PARKING',\r\n    parking,\r\n    spotsAmount,\r\n    handicappedSpotsAmount,\r\n    paidSelected\r\n});","import React from 'react'\r\n\r\nexport const ParkingItemInfo = ({ spots, hSpots, paid }) => {\r\n    return (\r\n        <div className=\"ui raised segments\" style={{margin: \"3px\"}}>\r\n            <div className=\"ui segment spots\">Ilość miejsc parkingowych: {spots}</div>\r\n            <div className=\"ui segment handicappedSpots\">Ilość miejsc dla niepełnosprawnych: {hSpots}</div>\r\n            <div className=\"ui segment paid\">{paid}</div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { ParkingItemInfo } from './ParkingItemInfo';\r\nimport { connect } from 'react-redux';\r\nimport { fetchSelected, fetchOnMouseOver, removeParking, editParking } from '../actions';\r\n\r\nimport './style/ParkingList.css'\r\n\r\nexport function checkPaid(val) {\r\n    if (val === true) return \"Płatny\";\r\n    \r\n    return \"Bezpłatny\";\r\n}\r\n\r\nexport class ParkingsList extends React.Component {\r\n    constructor() {\r\n        super();\r\n   \r\n        this.state = {\r\n          editClicked: false,\r\n          clickedParkingID: [],\r\n          currentVal: null,\r\n          paidSelected: false\r\n        };\r\n   \r\n        this.handleClickEdit = this.handleClickEdit.bind(this);\r\n        this.handleClickSave = this.handleClickSave.bind(this);\r\n        this.paidSelectionChanged = this.paidSelectionChanged.bind(this);\r\n    }\r\n\r\n    paidSelectionChanged(changeEvent) {\r\n        this.setState({\r\n            paidSelected: changeEvent.target.value\r\n        });\r\n    }\r\n   \r\n    handleClickEdit(id) {\r\n        this.setState({\r\n            editClicked: true,\r\n            clickedParkingID: id,\r\n        });\r\n    }\r\n\r\n    handleClickSave(id, parking) {\r\n        this.setState({\r\n            editClicked: false,\r\n            clickedParkingID: id\r\n        });\r\n        const paidValue = (this.state.paidSelected === 'true' || this.state.paidSelected === true);\r\n        this.props.editParking(parking, this.refs.numParkings.value, this.refs.handicappedSpotsAmount.value, paidValue);\r\n    }\r\n\r\n    parkingToParkingItem = parking => {\r\n        const street = parking.properties.street;\r\n        const spots = parking.properties.spots;\r\n        const hSpots = parking.properties.handicappedSpots;\r\n        const paid = checkPaid(parking.properties.paid);\r\n\r\n        return (\r\n            <div key={parking.geometry.coordinates} className=\"item\" style={{maxWidth: \"30vw\"}}>\r\n                <div onClick={() => this.props.fetchSelected(parking)} onMouseOver={() => this.props.fetchOnMouseOver(parking)} onMouseOut={() => this.props.fetchOnMouseOver(false)} className=\"ui block grey inverted header\">\r\n                    Ulica {street}\r\n                </div>\r\n                {this.state.editClicked && this.state.clickedParkingID === parking.geometry.coordinates ? (\r\n                    <div>\r\n                        <div className=\"ui raised segments\" style={{margin: \"3px\"}}>\r\n                            <div className=\"ui form field segment spots\">\r\n                                <input type=\"number\" ref=\"numParkings\" defaultValue={spots} min=\"0\" placeholder=\"Ilość miejsc parkingowych\"/>\r\n                            </div>\r\n                            <div className=\"ui form field segment handicappedSpots\">\r\n                                <input type=\"number\" ref=\"handicappedSpotsAmount\" defaultValue={hSpots} min=\"0\" placeholder=\"Ilość miejsc dla niepełnosprawnych\"/>\r\n                            </div>\r\n                            <div className=\"ui form field segment paid\">\r\n                                <div className=\"inline fields\" onChange={this.paidSelectionChanged}>\r\n                                    <div className=\"field\">\r\n                                        <div className=\"ui radio checkbox\">\r\n                                            <input type=\"radio\" name=\"paid\" id=\"platny\" defaultChecked={this.state.paidSelected === true || this.state.paidSelected === 'true'} value={true}/>\r\n                                            <label htmlFor=\"platny\">Płatny</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"field\">\r\n                                        <div className=\"ui radio checkbox\">\r\n                                            <input type=\"radio\" name=\"paid\" id=\"bezplatny\" defaultChecked={this.state.paidSelected === false || this.state.paidSelected === 'false'} value={false}/>\r\n                                            <label htmlFor=\"bezplatny\">Bezpłatny</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right floated content\">\r\n                            <div className=\"ui tiny yellow button\" onClick={() => this.handleClickSave(parking.geometry.coordinates, parking)}>Zapisz</div>\r\n                            <div \r\n                                className=\"ui tiny brown button\"\r\n                                onClick={() => this.props.removeParking(parking)}\r\n                            >Usuń</div>\r\n                        </div>\r\n                    </div>\r\n                    ) : (\r\n                    <div>\r\n                        <div onClick={() => this.props.fetchSelected(parking)} onMouseOver={() => this.props.fetchOnMouseOver(parking)} onMouseOut={() => this.props.fetchOnMouseOver(false)}>\r\n                            <ParkingItemInfo\r\n                                spots={spots}\r\n                                hSpots={hSpots}\r\n                                paid={paid}\r\n                            />\r\n                        </div>\r\n                        <div className=\"right floated content\">\r\n                            <div \r\n                                className=\"ui tiny orange button\" \r\n                                onClick={() => this.handleClickEdit(parking.geometry.coordinates)}>\r\n                                Edytuj\r\n                            </div>\r\n                            <div \r\n                                className=\"ui tiny brown button\"\r\n                                onClick={() => this.props.removeParking(parking)}>\r\n                                Usuń\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui relaxed divided list selection\">\r\n                {this.props.parkings.map(this.parkingToParkingItem)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { fetchSelected: state.fetchSelected,\r\n             fetchOnMouseOver: state.fetchOnMouseOver,\r\n             removeParkings: state.removeParkings, \r\n             editParking: state.editParking};\r\n}\r\n\r\nconst mapDispatchToProps = { fetchOnMouseOver, fetchSelected, removeParking, editParking }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ParkingsList);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Map from 'ol/Map';\r\nimport Overlay from 'ol/Overlay';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport {fromLonLat} from 'ol/proj';\r\nimport Feature from 'ol/Feature';\r\nimport Polygon from 'ol/geom/Polygon';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport { OSM } from 'ol/source';\r\n\r\nimport { checkPaid } from './ParkingsList'\r\nimport './style/ParkingsMap.css';\r\n\r\nconst gdanskWebMercator = fromLonLat([18.608097630119324, 54.383750637998535]);\r\n\r\nclass ParkingsMap extends React.Component {\r\n  constructor() {\r\n    super();\r\n    \r\n    this.state = {\r\n      center: gdanskWebMercator,\r\n      zoom: 16,\r\n    };\r\n\r\n    this.checkObjectFromMap.bind(this);\r\n    this.onClickNewLayer.bind(this);\r\n    this.onMouseOverNewLayer.bind(this);\r\n  }\r\n\r\n  checkObjectFromMap(polygon, object) {\r\n    var map = this.map;\r\n\r\n    map.on('pointermove', function(event) {\r\n      if(!polygon.intersectsCoordinate(event.coordinate)) {\r\n        map.getOverlayById(0).setPosition(undefined);\r\n      }\r\n      else {\r\n        var element = map.getOverlayById(0).getElement();\r\n        element.style.display = \"block\";\r\n\r\n        var content = document.getElementById('popup-content');\r\n        content.innerHTML = '<p>Ilość miejsc parkingowych: ' + object.properties.spots + '</p>' +\r\n                            '<p>Ilość miejsc parkingowych dla niepełnosprawnych: ' + object.properties.handicappedSpots + '</p>' +\r\n                            '<p>' + checkPaid(object.properties.paid) + '</p>';\r\n        map.getOverlayById(0).setPosition(event.coordinate);\r\n      }\r\n    });\r\n  }\r\n\r\n  onClickNewLayer(onClickItem) {\r\n    this.map.removeLayer(this.onClickVectorLayer); \r\n    \r\n    var newPolygon = onClickItem.geometry.coordinates[\"0\"];\r\n\r\n    this.polygon = new Polygon([newPolygon]);\r\n    this.polygon.transform('EPSG:4326', 'EPSG:3857');\r\n\r\n    var feature = new Feature(this.polygon);\r\n\r\n    var vectorSource = new VectorSource();\r\n    vectorSource.addFeature(feature);\r\n\r\n    this.onClickVectorLayer = new VectorLayer({\r\n      source: vectorSource\r\n    });\r\n\r\n    var newCenterView = fromLonLat(onClickItem.geometry.coordinates[\"0\"][\"0\"]);\r\n\r\n    this.map.getView().setCenter(newCenterView);\r\n    this.map.getView().setZoom(17);\r\n\r\n    this.map.addLayer(this.onClickVectorLayer);\r\n  }\r\n\r\n  onMouseOverNewLayer(onMouseOverItem) {\r\n    if(onMouseOverItem === false) {\r\n      this.map.removeLayer(this.onMouseOverVectorLayer);\r\n    }\r\n    else {\r\n      var newPolygon = onMouseOverItem.geometry.coordinates[\"0\"];\r\n\r\n      var polygon = new Polygon([newPolygon]);\r\n      polygon.transform('EPSG:4326', 'EPSG:3857');\r\n\r\n      var feature = new Feature(polygon);\r\n\r\n      var vectorSource = new VectorSource();\r\n      vectorSource.addFeature(feature);\r\n\r\n      this.onMouseOverVectorLayer = new VectorLayer({\r\n        source: vectorSource\r\n      });\r\n\r\n      this.map.addLayer(this.onMouseOverVectorLayer);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    var overlay = new Overlay({\r\n      id: 0,\r\n      element: document.getElementById('popup'),\r\n      autoPan: true,\r\n      autoPanAnimation: {\r\n        duration: 250\r\n      }\r\n    });\r\n\r\n    this.map = new Map({\r\n      target: \"map\",\r\n      overlays: [overlay],\r\n      layers: [\r\n        new TileLayer({\r\n          source: new OSM()\r\n        })\r\n      ],\r\n      view: new View({\r\n        center: this.state.center,\r\n        zoom: this.state.zoom\r\n      })\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.fetchSelected !== this.props.fetchSelected) {\r\n      this.onClickNewLayer(this.props.fetchSelected);\r\n      this.checkObjectFromMap(this.polygon, this.props.fetchSelected);\r\n    }\r\n\r\n    if (prevProps.fetchOnMouseOver !== this.props.fetchOnMouseOver) {\r\n      this.onMouseOverNewLayer(this.props.fetchOnMouseOver);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"map\">\r\n        <div id=\"popup\" className=\"ol-popup\">\r\n          <div id=\"popup-content\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  }\r\n\r\n  const mapStateToProps = state => {\r\n  return { fetchSelected: state.fetchSelected,\r\n          fetchOnMouseOver: state.fetchOnMouseOver \r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(ParkingsMap);","import React from 'react';\r\nimport * as parkingi from \"../parkingi.js\";\r\nimport { connect } from 'react-redux';\r\nimport { parkingsFetched } from '../actions';\r\nimport { getFilteredParkings } from '../selectors/getFilteredParkings';\r\nimport { ParkingsFilterContainer } from './ParkingsFilter';\r\nimport ParkingsList from './ParkingsList';\r\nimport ParkingsMap from './ParkingsMap.js';\r\n\r\nimport './style/App.css';\r\n\r\nexport class App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.parkingsFetched(parkingi.default.features);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui container\">\r\n                <div className=\"ui grid\">\r\n                    <div className=\"six wide column\">\r\n                        <div className=\"parking-list\">\r\n                            <ParkingsList parkings={this.props.parkings} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"ten wide column\">\r\n                        <ParkingsFilterContainer />\r\n                        <ParkingsMap/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      parkings: getFilteredParkings(state.parkings, state.parkingsSearch)\r\n    };\r\n  };\r\n  \r\nconst mapDispatchToProps = { parkingsFetched };\r\n\r\nexport const AppContainer = connect(mapStateToProps, mapDispatchToProps)(App);","import { combineReducers } from \"redux\";\r\nimport { parkings } from './parkings';\r\nimport { parkingsSearch } from './parkingsSearch';\r\nimport { fetchSelected } from './fetchSelected';\r\nimport { fetchOnMouseOver } from './fetchOnMouseOver';\r\n\r\nexport default combineReducers({\r\n    parkings,\r\n    parkingsSearch,\r\n    fetchSelected,\r\n    fetchOnMouseOver\r\n});","export const parkings = (state = [], action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_PARKINGS':\r\n            return [\r\n                ...action.parkings\r\n            ]\r\n        case 'REMOVE_PARKING':\r\n            return state.filter(parking => parking !== action.payload)\r\n        case 'EDIT_PARKING':\r\n            return state.map(parking => {\r\n                if(parking === action.parking) {\r\n                    return {\r\n                        ...parking,\r\n                        properties: {\r\n                            ...parking.properties,\r\n                            spots: action.spotsAmount,\r\n                            handicappedSpots: action.handicappedSpotsAmount,\r\n                            paid: action.paidSelected\r\n                        }\r\n                    }\r\n                }\r\n                return parking\r\n            });\r\n        default:\r\n            return state\r\n    }\r\n}","export const parkingsSearch = (state = '', action) => {\r\n    switch (action.type) {\r\n        case 'SEARCH_PARKINGS':\r\n            return action.text;\r\n        default:\r\n            return state\r\n    }\r\n}","export const fetchSelected = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_SELECTED':\r\n            return action.payload;\r\n        default:\r\n            return state\r\n    }\r\n}","export const fetchOnMouseOver = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_ON_MOUSE_OVER':\r\n            return action.payload;\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n\r\nimport { AppContainer } from './components/App';\r\nimport reducers from './reducers';\r\n\r\nReactDOM.render(\r\n    <Provider store={createStore(reducers)}>\r\n        <AppContainer /> \r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}